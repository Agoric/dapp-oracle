<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Oracle</title>

    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link href="index.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="conf/dappConstants.js"></script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>

    <h2>Query Oracle</h2>
    <form id="oracleForm" onsubmit="return false">
    <p>
        Query oracle ID <input type="text" id="oracleInstanceId"
        placeholder="board:id" />
        <br/>
        <br/>
        <label for="forFree"><input type="radio" id="forFree" value="free" checked="checked" name="feeKind" />
          for free</label><br />
        <label for="forFee"><input type="radio" id="forFee" value="tip" name="feeKind" />
          for a payment of
        <input type="number" min="0" size="6" length="4" id="inputAmount" value="1" disabled="disabled" />
        <select id="brands" disabled="disabled">
          <option value="remove()"><i>no issuers</i></option>
        </select> from <select id="feePurse" disabled="disabled">
          <option value="remove()"><i>no purse</i></option>
        </select>
        </label>
      </p>

      <textarea id="oracleQuery" placeholder="JSON5 query">{
 jobId:"b0b5cafec0ffeeee",
 params:{ 
  get: "https://bitstamp.net/api/ticker/",
  path: ["last"],
  times: 100
 }
}
</textarea><br/>
      <div class="queryButtons"><input type="submit" value="Query Oracle!" id="queryOracle"
      disabled="disabled" />
      <iframe id="walletBridgeIFrame" width="100" height="21"></iframe></div>
    </form>

    <ul id="oracleReplies">
    </ul>

    <div class="visibleOnlyToOracleService">
    <h2>Serve Oracle</h2>

    <p>This oracle can be reached at: <span
    id="myOracleInstanceId">loading...</span></p>
 
    <input type="submit" value="Create Push Query" id="createNotifier" disabled="disabled" />

    <ul id="oracleRequests">
    </ul>

    </div>

    <hr />
    <div class="horizontal">
      <div class="status">
        Agoric wallet: <span id="wallet-status">Unknown</span>
      </div>
      <div class="status">
        API server: <span id="/api/oracle-client-status">Unknown</span>
      </div>
      <div class="visibleOnlyToOracleService">
        <div class="status">
          Oracle API server: <span id="/api/oracle-status">Unknown</span>
        </div>
      </div>
    </div>
    <div class="vertical">
      <div>
        <label for="debug"><input type="checkbox" id="debug" /> Debug mode</label>
      </div>
      <div id="messages" class="messages"></div>
    </div>

    <script type="module" src="src/main.js"></script>
  </body>
</html>
